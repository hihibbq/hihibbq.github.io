<html>
<head>
<title>For my HK, We are READY~</title>
<style>
table, tr, td {
	border: 1px solid black;
}
tr:nth-child(even) {
	background: #CCC
}
tr:nth-child(odd) {
	background: #FFF
}
</style>
<script src="https://www.gstatic.com/firebasejs/3.1.0/firebase.js"></script>
</head>
<body>

<img src='img/banner.jpg' style='position:absolute;top:0px;left:0px;z-Index:-1;'>
<img src='img/logo.jpg' width='300' style='position:absolute;top:10px;left:10px;z-Index:2;'>
<img src='img/crlogo.png' width='150' style='position:absolute;top:10px;left:330px;z-Index:3;'>

<div id='content' style='position:absolute;top:290px;left:20px;z-Index:999;'>
	<span style='font-family:Helvetica;font-weight:14pt;'>Showing first 100 records:</span>
	<br><br>
	
	<table id='tbl' cellspacing=5 cellpadding=5 style='border:1px solid black; border-collapse:collapse; font-family:Helvetica;font-size:9pt;'>
	<tr style='font-weight:bold; font-size:12pt;'>
		<td><nobr>Firebase ID</nobr></td>
		<td>UUID</td>
		<td><nobr>Client Name</nobr></td>
		<td><nobr>Email Address</nobr></td>
		<td><nobr>Phone No.</nobr></td>
		<td>Position</td>
		<td><nobr>Registration Date/Time</nobr></td>
		<td><nobr>Email Sent?</nobr></td>
		<td><nobr>IP Address</nobr></td>
		<td>GeoLocatoin</td>
		<td>GPS</td>
		<td><nobr>Browser Agent</nobr></td>
		<td><nobr>Phone Model</nobr></td>
	</tr>
	</table>
</div>

<br><br><br><br>

<script language='JavaScript'>
<!--
var config = {
  apiKey: "AIzaSyBfHe8GEKRrCM5TA_MqlaZZsVshjjH7Q34",
  authDomain: "my-test-project-d5a38.firebaseapp.com",
  databaseURL: "https://my-test-project-d5a38.firebaseio.com",
  storageBucket: "my-test-project-d5a38.appspot.com",
};
firebase.initializeApp(config);

firebase.database().ref('campaigndb').on('value',(snap)=>{
	//read the count (for pagination if needed)
    var totalRecord =  snap.numChildren();
    //alert("Total Record : "+totalRecord);
  });

//===================================================
var r = 1;

 firebase.database().ref('campaigndb').once('value', function(snapshot) {
    snapshot.forEach(function(childSnapshot) {
		var childKey = childSnapshot.key;
		var childData = childSnapshot.val();
	
		var tbl = document.getElementById('tbl');
		var row = tbl.insertRow(r);
		var cells = new Array(13);
		for(var i=0; i < cells.length; i++) 
			cells[i] = row.insertCell(i);
	
		cells[0].innerHTML = '<nobr>'+childKey+'</nobr>';
		cells[1].innerHTML = childData._id;
		cells[2].innerHTML = childData.name;
		cells[3].innerHTML = childData.email;
		cells[4].innerHTML = childData.tel;
		cells[5].innerHTML = '(n/a)';
		cells[6].innerHTML = '12:30 1/8/2020';
		cells[7].innerHTML = '<center><a href="email.html#'+ childKey +'">QR</a></center>';
		cells[8].innerHTML = '127.0.0.1';
		cells[9].innerHTML = 'Kowloon';
		cells[10].innerHTML = '24.123,22.123';
		cells[11].innerHTML = 'Chrome/Safari';
		cells[12].innerHTML = '(iPhone11/Android)';

		r ++;
    });
  });
//-->
</script>

</body>
</html>